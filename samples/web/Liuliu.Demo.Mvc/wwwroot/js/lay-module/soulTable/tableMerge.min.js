/**
 *
 * @name:  子表格扩展
 * @author: yelog
 * @link: https://github.com/yelog/layui-soul-table
 * @license: MIT
 * @version: v1.5.16
 */
layui.define(["table"],function(n){var t=layui.jquery,i={render:function(n){function o(t,r){for(var f=i[r].mergeField,e=layui.table.cache[n.id].length,u=0;u<f.length;u++)if(layui.table.cache[n.id][e-2-t][f[u]]!==layui.table.cache[n.id][e-1-t][f[u]])return!0;return!1}var r=t(n.elem).next().children(".layui-table-box"),u=t(r.children(".layui-table-body").children("table").children("tbody").children("tr").toArray().reverse()),f=t(r.children(".layui-table-fixed-l").children(".layui-table-body").children("table").children("tbody").children("tr").toArray().reverse()),e=t(r.children(".layui-table-fixed-r").children(".layui-table-body").children("table").children("tbody").children("tr").toArray().reverse()),i={};layui.each(n.cols,function(t,r){layui.each(r,function(r,u){if(u.merge&&u.field){var f=[u.field];u.merge!==!0&&(f=typeof u.merge=="string"?[u.merge]:u.merge);i[n.index+"-"+t+"-"+r]={mergeField:f,rowspan:1}}})});u.each(function(n){var r,h,s;for(r in i)n===u.length-1||o(n,r)?(h=t(this).children('[data-key="'+r+'"]').outerHeight(),s=0,u.eq(n).data("index")===0&&(s=1),t(this).children('[data-key="'+r+'"]').attr("rowspan",i[r].rowspan).css({position:"static",height:h*i[r].rowspan+s}).children().css({height:"auto","white-space":"normal","max-height":h*i[r].rowspan+s-10}),f.eq(n).children('[data-key="'+r+'"]').attr("rowspan",i[r].rowspan).css({position:"static",height:h*i[r].rowspan+s}).children().css({height:"auto","white-space":"normal","max-height":h*i[r].rowspan+s-10}),e.eq(n).children('[data-key="'+r+'"]').attr("rowspan",i[r].rowspan).css({position:"static",height:h*i[r].rowspan+s}).children().css({height:"auto","white-space":"normal","max-height":h*i[r].rowspan+s-10}),i[r].rowspan=1):(t(this).children('[data-key="'+r+'"]').remove(),f.eq(n).children('[data-key="'+r+'"]').remove(),e.eq(n).children('[data-key="'+r+'"]').remove(),i[r].rowspan+=1)})}};n("tableMerge",i)});