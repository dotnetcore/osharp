layui.define(function(a){"use strict";function e(a){var e=this;e.config=a||{},e.config.index=++y.index,e.render(!0)}var s=document,l="getElementById",o="getElementsByTagName",u="layui-disabled";e.prototype.type=function(){var a=this.config;if("object"==typeof a.elem)return void 0===a.elem.length?2:3},e.prototype.view=function(){var r=this.config,s=r.groups="groups"in r?0|r.groups:5;r.layout="object"==typeof r.layout?r.layout:["prev","page","next"],r.count=0|r.count,r.curr=0|r.curr||1,r.limits="object"==typeof r.limits?r.limits:[10,20,30,40,50],r.limit=0|r.limit||10,r.pages=Math.ceil(r.count/r.limit)||1,r.curr>r.pages&&(r.curr=r.pages),s<0?s=1:s>r.pages&&(s=r.pages),r.prev="prev"in r?r.prev:"&#x4E0A;&#x4E00;&#x9875;",r.next="next"in r?r.next:"&#x4E0B;&#x4E00;&#x9875;";var t,i,l=r.pages>s?Math.ceil((r.curr+(1<s?1:0))/(0<s?s:1)):1,n={prev:r.prev?'<a href="javascript:;" class="layui-laypage-prev'+(1==r.curr?" "+u:"")+'" data-page="'+(r.curr-1)+'">'+r.prev+"</a>":"",page:function(){var a=[];if(r.count<1)return"";1<l&&!1!==r.first&&0!==s&&a.push('<a href="javascript:;" class="layui-laypage-first" data-page="1"  title="&#x9996;&#x9875;">'+(r.first||1)+"</a>");var e,t=Math.floor((s-1)/2),i=1<l?r.curr-t:1,n=1<l?(e=r.curr+(s-t-1))>r.pages?r.pages:e:s;for(n-i<s-1&&(i=n-s+1),!1!==r.first&&2<i&&a.push('<span class="layui-laypage-spr">&#x2026;</span>');i<=n;i++)i===r.curr?a.push('<span class="layui-laypage-curr"><em class="layui-laypage-em" '+(/^#/.test(r.theme)?'style="background-color:'+r.theme+';"':"")+"></em><em>"+i+"</em></span>"):a.push('<a href="javascript:;" data-page="'+i+'">'+i+"</a>");return r.pages>s&&r.pages>n&&!1!==r.last&&(n+1<r.pages&&a.push('<span class="layui-laypage-spr">&#x2026;</span>'),0!==s&&a.push('<a href="javascript:;" class="layui-laypage-last" title="&#x5C3E;&#x9875;"  data-page="'+r.pages+'">'+(r.last||r.pages)+"</a>")),a.join("")}(),next:r.next?'<a href="javascript:;" class="layui-laypage-next'+(r.curr==r.pages?" "+u:"")+'" data-page="'+(r.curr+1)+'">'+r.next+"</a>":"",count:'<span class="layui-laypage-count">共 '+r.count+" 条</span>",limit:(t=['<span class="layui-laypage-limits"><select lay-ignore>'],layui.each(r.limits,function(a,e){t.push('<option value="'+e+'"'+(e===r.limit?"selected":"")+">"+e+" 条/页</option>")}),t.join("")+"</select></span>"),refresh:['<a href="javascript:;" data-page="'+r.curr+'" class="layui-laypage-refresh">','<i class="layui-icon layui-icon-refresh"></i>',"</a>"].join(""),skip:['<span class="layui-laypage-skip">&#x5230;&#x7B2C;','<input type="text" min="1" value="'+r.curr+'" class="layui-input">','&#x9875;<button type="button" class="layui-laypage-btn">&#x786e;&#x5b9a;</button>',"</span>"].join("")};return['<div class="layui-box layui-laypage layui-laypage-'+(r.theme?/^#/.test(r.theme)?"molv":r.theme:"default")+'" id="layui-laypage-'+r.index+'">',(i=[],layui.each(r.layout,function(a,e){n[e]&&i.push(n[e])}),i.join("")),"</div>"].join("")},e.prototype.jump=function(a,e){if(a){var t=this,i=t.config,n=a.children,r=a[o]("button")[0],s=a[o]("input")[0],l=a[o]("select")[0],u=function(){var a=0|s.value.replace(/\s|\D/g,"");a&&(i.curr=a,t.render())};if(e)return u();for(var p=0,c=n.length;p<c;p++)"a"===n[p].nodeName.toLowerCase()&&y.on(n[p],"click",function(){var a=0|this.getAttribute("data-page");a<1||a>i.pages||(i.curr=a,t.render())});l&&y.on(l,"change",function(){var a=this.value;i.curr*a>i.count&&(i.curr=Math.ceil(i.count/a)),i.limit=a,t.render()}),r&&y.on(r,"click",function(){u()})}},e.prototype.skip=function(i){var n,a;i&&(n=this,(a=i[o]("input")[0])&&y.on(a,"keyup",function(a){var e=this.value,t=a.keyCode;/^(37|38|39|40)$/.test(t)||(/\D/.test(e)&&(this.value=e.replace(/\D/,"")),13===t&&n.jump(i,!0))}))},e.prototype.render=function(a){var e=this,t=e.config,i=e.type(),n=e.view();2===i?t.elem&&(t.elem.innerHTML=n):3===i?t.elem.html(n):s[l](t.elem)&&(s[l](t.elem).innerHTML=n),t.jump&&t.jump(t,a);var r=s[l]("layui-laypage-"+t.index);e.jump(r),t.hash&&!a&&(location.hash="!"+t.hash+"="+t.curr),e.skip(r)};var y={render:function(a){return new e(a).index},index:layui.laypage?layui.laypage.index+1e4:0,on:function(e,a,t){return e.attachEvent?e.attachEvent("on"+a,function(a){a.target=a.srcElement,t.call(e,a)}):e.addEventListener(a,t,!1),this}};a("laypage",y)});